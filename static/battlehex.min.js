let minifiedDict={},e="./static/cards",l=1,n=l%2+1,t="http://www.w3.org/2000/svg",o="svgBoard",r=["a","2","3","4","5","6","7","8","9","10","j","q","k"],u=null,c=null,s=null,m=null,i="s,d".split(","),a="c,h".split(","),g=null,d=[],h=[],f=100,p=1e3,y=50;function b(){return!!document.createElementNS&&!!document.createElementNS(t,"svg").createSVGRect}function w(e,l){return 160+10.2433112276*(l-e)}function I(e,l){return 62.0967741935+17.7419354839*(l-e)+35.4838709677*(e-1)}function v(n,t){let o=!0;if(d.length!=r.length+2)o=!1;else for(let e=0;e<r.length+2||!o;e++)d[e].length!=r.length+2&&(o=!1);if(o){if(t==l){if(document.getElementById(n).src!=e+"/back.svg"&&(null==u||null!=c||null==c&&n.substr(0,1).toLowerCase()!=u.substr(0,1).toLowerCase())){if(null==u)u=n;else if(null==c){let e=A(u,n);e.row&&e.column&&null==d[e.row][e.column]&&(c=n)}else{let e=A(u,c);L(e.row,e.column,"makeCellMove("+e.row+","+e.column+",player);"),u=n,c=null}S()}null!=u&&null!=c?(document.getElementById("randomizeFlipInput").checked&&(E(l),document.getElementById("playerFlipCardImg").src=document.getElementById(u).src,document.getElementById("playerPlayCardImg").src=document.getElementById(c).src),document.getElementById("sendMove").disabled=!1):document.getElementById("sendMove").disabled=!0}else null==s?s=n:null==m?m=n:(s=n,m=null);null==c&&null==u||(document.getElementById("opponentPlayCardImg").src=e+"/back.svg",document.getElementById("opponentFlipCardImg").src=e+"/back.svg")}}function B(e,t,o){x(l,d)||x(n,d)||(o==l?(null==c&&null!=u&&("r"==g.substr(0,1)?v("b"+r[t-1],o):"c"==g.substr(0,1)&&v("r"+r[e-1],o)),v("r"+r[e-1],o),v("b"+r[t-1],o)):(v("r"+r[e-1],o),v("b"+r[t-1],o),E(o)))}function E(n){if(n==l){if(null!=u&&null!=c){if(Math.random()<.5){var t=u;u=c,c=t}document.getElementById("playerFlipCardImg").src=e+"/"+i["b,r".split(",").indexOf(u.substr(0,1))]+u.substr(1)+".svg",document.getElementById("playerPlayCardImg").src=e+"/"+i["b,r".split(",").indexOf(c.substr(0,1))]+c.substr(1)+".svg"}}else Math.random()<.5&&(t=s,s=m,m=t)}function k(){let t=A(u,c),o=A(s,m);if(null!=u&&null!=c&&null!=s&&null!=m)document.getElementById("opponentFlipCardImg").src=e+"/"+a["b,r".split(",").indexOf(s.substr(0,1))]+s.substr(1)+".svg",document.getElementById("opponentPlayCardImg").src=e+"/"+a["b,r".split(",").indexOf(m.substr(0,1))]+m.substr(1)+".svg",t.row==o.row&&t.column==o.column?C():(1==l?(d[t.row][t.column]=l,P(t.row,t.column,"red"),d[o.row][o.column]=n,P(o.row,o.column,"black")):(d[t.row][t.column]=l,P(t.row,t.column,"black"),d[o.row][o.column]=n,P(o.row,o.column,"red")),u=null,c=null,s=null,m=null,x(l,d)||x(n,d)||(document.getElementById("loader").classList.add("loaderanimation"),setTimeout((function(){o=G(n,d),B(o.row,o.column,n),k(),document.getElementById("loader").classList.remove("loaderanimation")}),y))),x(l,d)?alert("Player wins!"):x(n,d)&&alert("Computer wins!");else{let e=0,i=0;for(let t=1;t<=r.length;t++)for(let o=1;o<=r.length;o++)d[t][o]==l?e++:d[t][o]==n&&i++;e<i&&null!=u&&null!=c&&("r"==s.substr(0,1)?(v("r"+r[t.row-1],l),v("b"+r[t.column-1],l)):(v("b"+r[t.column-1],l),v("r"+r[t.row-1],l)),1==l?(d[t.row][t.column]=l,P(t.row,t.column,"red")):(d[t.row][t.column]=l,P(t.row,t.column,"black")),u=null,c=null,s=null,m=null,document.getElementById("loader").classList.add("loaderanimation"),setTimeout((function(){o=G(n,d),B(o.row,o.column,n),k(),document.getElementById("loader").classList.remove("loaderanimation")}),y))}F()}function F(){for(let l=1;l<=r.length;l++){let n=!1;for(let e=1;e<=r.length;e++)null==d[l][e]&&(n=!0);n||(document.getElementById("r"+r[l-1]).src=e+"/back.svg",document.getElementById("r"+r[l-1]).onclick=""),n=!1;for(let e=1;e<=r.length;e++)null==d[e][l]&&(n=!0);n||(document.getElementById("b"+r[l-1]).src=e+"/back.svg",document.getElementById("b"+r[l-1]).onclick="")}}function O(){for(let l=0;l<r.length;l++){let n=!1;for(let e=1;e<=r.length;e++)null==d[l+1][e]&&(n=!0);n?(document.getElementById("r"+r[l]).src=e+"/"+i.join(",").substr("b,r".indexOf("r"),1)+r[l]+".svg",document.getElementById("r"+r[l]).setAttribute("onclick","makeCardMove('r"+r[l]+"', player);")):(document.getElementById("r"+r[l]).src=e+"/back.svg",document.getElementById("r"+r[l]).setAttribute("onclick","")),n=!1;for(let e=1;e<=r.length;e++)null==d[e][l+1]&&(n=!0);n?(document.getElementById("b"+r[l]).src=e+"/"+i.join(",").substr("b,r".indexOf("b"),1)+r[l]+".svg",document.getElementById("b"+r[l]).setAttribute("onclick","makeCardMove('b"+r[l]+"', player);")):(document.getElementById("b"+r[l]).src=e+"/back.svg",document.getElementById("b"+r[l]).setAttribute("onclick",""))}}function C(){if(null!=u&&null!=c&&null!=s&&null!=m){let t=A(u,c);if(u==s)if(1==l){let o={};alert('Both move to "'+u+'", "'+c+'."  Player wins move.'),d[t.row][t.column]=l,P(t.row,t.column,"red"),x(l,d)||(document.getElementById("loader").classList.add("loaderanimation"),setTimeout((function(){o=G(n,d),d[o.row][o.column]=n,P(o.row,o.column,"black"),"r"==u.substr(0,1)?(v("r"+r[o.row-1],n),v("b"+r[o.column-1],n)):(v("b"+r[o.column-1],n),v("r"+r[o.row-1],n)),u=null,c=null,document.getElementById("opponentFlipCardImg").src=e+"/"+a["b,r".split(",").indexOf(s.substr(0,1))]+s.substr(1)+".svg",document.getElementById("opponentPlayCardImg").src=e+"/"+a["b,r".split(",").indexOf(m.substr(0,1))]+m.substr(1)+".svg",o=G(l,d),B(o.row,o.column,n),document.getElementById("loader").classList.remove("loaderanimation")}),y))}else{alert('Both move to "'+s+'", "'+m+'."  Computer wins move.');let e=A(s,m);u=null,c=null,d[e.row][e.column]=n,P(e.row,e.column,"red")}else if(2==l){alert('Both move to "'+u+'", "'+c+'."  Player wins move.');let o={};d[t.row][t.column]=l,P(t.row,t.column,"black"),x(l,d)||(document.getElementById("loader").classList.add("loaderanimation"),setTimeout((function(){o=G(n,d),d[o.row][o.column]=n,P(o.row,o.column,"red"),"r"==u.substr(0,1)?(v("r"+r[o.row-1],n),v("b"+r[o.column-1],n)):(v("b"+r[o.column-1],n),v("r"+r[o.row-1],n)),u=null,c=null,document.getElementById("opponentFlipCardImg").src=e+"/"+a["b,r".split(",").indexOf(s.substr(0,1))]+s.substr(1)+".svg",document.getElementById("opponentPlayCardImg").src=e+"/"+a["b,r".split(",").indexOf(m.substr(0,1))]+m.substr(1)+".svg",o=G(l,d),B(o.row,o.column,n),document.getElementById("loader").classList.remove("loaderanimation")}),y))}else{alert('Both move to "'+s+'", "'+m+'."  Computer wins move.');let e=A(s,m);u=null,c=null,d[e.row][e.column]=n,P(e.row,e.column,"black")}}}function x(e,l){let n=[function(){return c<r.length+1&&[0,3,e].indexOf(l[u][c+1])>=0},function(){return u<r.length+1&&[0,3,e].indexOf(l[u+1][c])>=0},function(){return u<r.length+1&&c>0&&[0,3,e].indexOf(l[u+1][c-1])>=0},function(){return c>0&&[0,3,e].indexOf(l[u][c-1])>=0},function(){return u>0&&[0,3,e].indexOf(l[u-1][c])>=0},function(){return u>0&&c<r.length+1&&[0,3,e].indexOf(l[u-1][c+1])>=0}],t=[function(){c++},function(){u++},function(){u++,c--},function(){c--},function(){u--},function(){u--,c++}],o=null,u=null,c=null;if((1==e||2==e)&&(o=0,u=0,c=0),1==e)for(;!n[o]()&&n[(o+1)%6]()?(o=(o+1)%6,t[o](),o=(o+4)%6):o=n[o]()&&!n[(o+1)%6]()||n[o]()&&n[(o+1)%6]()?(o+5)%6:(n[o]()||n[(o+1)%6](),(o+1)%6),0!=l[u][c];);else if(2==e)for(;n[o]()&&!n[(o+1)%6]()?t[o]():o=!n[o]()&&n[(o+1)%6]()||n[o]()&&n[(o+1)%6]()?(o+1)%6:(n[o]()||n[(o+1)%6](),(o+5)%6),0!=l[u][c];);return 1==e&&c>=r.length+1||2==e&&u>=r.length+1}function M(){k()}function P(e,l,n,t){T(e,l,n,t)}function L(e,l,n){z(e,l,n)}function A(e,l){let n={row:null,column:null};return e&&(1=="br".indexOf(e.substr(0,1).toLowerCase())?n.row=r.indexOf(e.substr(1))+1:n.column=r.indexOf(e.substr(1))+1),l&&(1=="br".indexOf(l.substr(0,1).toLowerCase())?n.row=r.indexOf(l.substr(1))+1:n.column=r.indexOf(l.substr(1))+1),n}function S(){let l=A(u,c);if(null==c){document.getElementById("playerFlipCardImg").src=document.getElementById(u).src,document.getElementById("playerPlayCardImg").src=e+"/blank.svg";for(let l=0;l<r.length;l++)document.getElementById(u.substr(0,1).toLowerCase()+r[l]).src=e+"/back.svg"}else document.getElementById("playerPlayCardImg").src=document.getElementById(c).src,O();if(null!=u&&null==c){if(null!=l.row){g="r"+l.row;for(let n=1;n<=r.length;n++)null==d[l.row][n]?(L(l.row,n,null),P(l.row,n,"cyan","makeCellMove("+l.row+","+n+",player);")):(document.getElementById("b"+r[n-1]).src=e+"/back.svg",document.getElementById("b"+r[n-1]).onclick="")}else if(null!=l.column){g="b"+l.column;for(let n=1;n<=r.length;n++)null==d[n][l.column]?(L(n,l.column,null),P(n,l.column,"cyan","makeCellMove("+n+","+l.column+",player);")):(document.getElementById("r"+r[n-1]).src=e+"/back.svg",document.getElementById("r"+r[n-1]).onclick="")}}else if(null!=u&&null!=c){document.getElementById("playerFlipCardImg").src=e+"/"+i["b,r".split(",").indexOf(u.substr(0,1))]+u.substr(1)+".svg",document.getElementById("playerPlayCardImg").src=e+"/"+i["b,r".split(",").indexOf(c.substr(0,1))]+c.substr(1)+".svg";for(let e=1;e<=r.length;e++)if("r"==g.substr(0,1)){if(null==d[g.substr(1,g.length-1)][e]){let l=g.substr(1,g.length-1);L(l,e,"makeCellMove("+l+","+e+",player);")}}else if("b"==g.substr(0,1)&&null==d[e][g.substr(1,g.length-1)]){let l=e,n=g.substr(1,g.length-1);L(l,n,"makeCellMove("+l+","+n+",player);")}L(l.row,l.column,null),P(l.row,l.column,"cyan","sendPlayerMove();")}}function j(e,l,n){let o=document.createElementNS(t,"polygon"),r="",u=w(e,l),c=I(e,l);return r+=u+10.243311227557877+","+(c+-5.913978494623655),r+=" ",r+=u+1e-15+","+(c+-11.827956989247312),r+=" ",r+=u+-10.243311227557875+","+(c+-5.91397849462366),r+=" ",r+=u+-10.243311227557879+","+(c+5.913978494623652),r+=" ",r+=u+-2e-15+","+(c+11.827956989247312),r+=" ",r+=u+10.243311227557879+","+(c+5.913978494623652),o.setAttribute("points",r),n&&o.setAttribute("onclick",n),o.style.fill="white",o.style.stroke="black",o}function q(e,l,n,o){let r=document.createElementNS(t,"circle");return r.setAttribute("cx",w(e,l)),r.setAttribute("cy",I(e,l)),r.setAttribute("r",8.279569892473118),r.setAttribute("stroke","black"),r.setAttribute("fill",n),o&&r.setAttribute("onclick",o),r}function T(e,l,n,t){document.getElementById(o).appendChild(q(e,l,n,t))}function z(e,l,n){document.getElementById(o).appendChild(j(e,l,n))}function N(){h=null,d=[],h=[];let l=0,t=null;document.getElementById("playerPlayCardImg").src=e+"/blank.svg",document.getElementById("playerFlipCardImg").src=e+"/blank.svg",document.getElementById("opponentPlayCardImg").src=e+"/blank.svg",document.getElementById("opponentFlipCardImg").src=e+"/blank.svg";for(let e=0;e<=r.length+1;e++){d.push([]),h.push([]);for(let n=0;n<=r.length+1;n++)0==e&&n==r.length+1||e==r.length+1&&0==n||0==e&&0==n||e==r.length+1&&n==r.length+1?d[e].push(0):0==e||e==r.length+1?d[e].push(2):0==n||n==r.length+1?d[e].push(1):(d[e].push(null),L(e,n,"makeCellMove("+e+","+n+",player);")),h[e].push(l++)}O(),u=null,c=null,s=null,m=null,document.getElementById("loader").classList.add("loaderanimation"),setTimeout((function(){t=G(n,d),B(t.row,t.column,n),k(),document.getElementById("loader").classList.remove("loaderanimation")}),y)}function G(e,l){let n=0,t=2,o={},r=[U(D(e,l))[0],U(K(e,l))[0],U(R(e,l))[0]];for(let o=0;o<r.length;o++)if(r[o]){let u=V(e,l,r[o].row,r[o].column);u>n&&(n=u,t=o)}return o={row:r[t].row,column:r[t].column},o}function U(e){let l=[],n=[];for(let l=0;l<e.length;l++)n.push(e[l].weight);for(let t=0;t<e.length;t++){let o={row:e[t].row,column:e[t].column,zscore:(e[t].weight-math.mean(n))/math.std(n)};l.push(o)}return l=l.sort((function(e,l){return l.zscore-e.zscore})),l}function R(e,l){let n=[],t=[null,X(1,l),X(2,l)];if(t[1].length&&t[2].length&&(n=ue(e,l,Z(t[1]),Z(t[2]))),0==n.length){let e={row:7,column:7,weight:1};n.push(e)}return n}function V(e,l,n,t){let o=[],r=0,u=0,c=e%2+1;for(let e=0;e<l.length;e++)o.push(Object.assign([],l[e]));o[n][t]=e;let s=H(o);for(;r<p;){let l=J(o,s,e),m=null,i=null;x(e,l)?m=e:x(c,l)&&(m=c),l[n][t]=c,x(e,l)?i=e:x(c,l)&&(i=c),m!=i&&u++,r++}return u/p}function D(e,l){let n=[],t=H(l),o=[],r=e%2+1;for(let e=0;e<t.length;e++)o.push(0);let u=0;for(;u<p;){let n=J(l,t);for(let l=0;l<t.length;l++){let u=null,c=null;x(e,n)?u=e:x(r,n)&&(u=r),n[t[l][0]][t[l][1]]=n[t[l][0]][t[l][1]]%2+1,x(e,n)?c=e:x(r,n)&&(c=r),u!=c&&o[l]++}u++}for(let e=0;e<t.length;e++){let l={row:t[e][0],column:t[e][1],weight:o[e]};n.push(l)}return n}function H(e){let l=[];for(let n=1;n<=r.length;n++)for(let t=1;t<=r.length;t++)null==e[n][t]&&l.push([n,t]);return l}function J(e,l,n){let t=[],o=(Math.random(),2),r=[];n&&(o=n%2+1);for(let l=0;l<e.length;l++)t.push(Object.assign([],e[l]));r=Object.assign([],l);for(let e=r.length;e>0;e--){let l=Math.floor(Math.random()*e);t[r[l][0]][r[l][1]]=o,r.splice(l,1),o=o%2+1}return t}function K(e,l){let n=[],t=[null,X(1,l),X(2,l)];return t[1].length&&t[2].length&&(n=re(e,l,Z(t[1]),Z(t[2]))),n}function Q(e){let l=[];for(let n=0;n<e.length;n++)for(let t=0;t<e[n].length;t++)l.push(0);return l}function W(e){let l=[];for(let n=0;n<e;n++){l.push([]);for(let t=0;t<e;t++)l[n].push(0)}return l}function X(e,l){let n=[],t=Q(l),o=W(t.length);for(let n=0;n<l.length;n++)for(let u=0;u<l[n].length;u++)if(!(0==n&&0==u||n==r.length+1&&u==r.length+1))if(0==n&&2==e)o[h[n][u]][h[n][u]]=1,t[h[n][u]]=f;else if(0==u&&1==e)o[h[n][u]][h[n][u]]=1,t[h[n][u]]=f;else if(0==n&&1==e)o[h[n][u]][h[n][u]]=1,t[h[n][u]]=0;else if(0==u&&2==e)o[h[n][u]][h[n][u]]=1,t[h[n][u]]=0;else if(n==l.length-1||u==l[n].length-1)o[e][h[n][u]][h[n][u]]=1,t[h[n][u]]=0;else{let r=0,c=0,s=-1;2==Y(n,u,n-1,u,l,e)&&c++,2==Y(n,u,n-1,u+1,l,e)&&c++,2==Y(n,u,n,u-1,l,e)&&c++,2==Y(n,u,n,u+1,l,e)&&c++,2==Y(n,u,n+1,u-1,l,e)&&c++,2==Y(n,u,n+1,u,l,e)&&c++,2==Y(n,u,n-1,u,l,e)&&(o[h[n][u]][h[n-1][u]]=-2/c),2==Y(n,u,n-1,u+1,l,e)&&o[h[n][u]][h[n-1][u+1]],2==Y(n,u,n,u-1,l,e)&&(o[h[n][u]][h[n][u-1]]=-2/c),2==Y(n,u,n,u+1,l,e)&&(o[h[n][u]][h[n][u+1]]=-2/c),2==Y(n,u,n+1,u-1,l,e)&&(o[h[n][u]][h[n+1][u-1]]=-2/c),2==Y(n,u,n+1,u,l,e)&&(o[h[n][u]][h[n+1][u]]=-2/c),c&&(s=1),[1,3].indexOf(Y(n,u,n-1,u,l,e))>-1&&(o[h[n][u]][h[n-1][u]]=s,r++),[1,3].indexOf(Y(n,u,n-1,u+1,l,e))>-1&&(o[h[n][u]][h[n-1][u+1]]=s,r++),[1,3].indexOf(Y(n,u,n,u-1,l,e))>-1&&(o[h[n][u]][h[n][u-1]]=s,r++),[1,3].indexOf(Y(n,u,n,u+1,l,e))>-1&&(o[h[n][u]][h[n][u+1]]=s,r++),[1,3].indexOf(Y(n,u,n+1,u-1,l,e))>-1&&(o[h[n][u]][h[n+1][u-1]]=s,r++),[1,3].indexOf(Y(n,u,n+1,u,l,e))>-1&&(o[h[n][u]][h[n+1][u]]=s,r++),o[h[n][u]][h[n][u]]=r,t[h[n][u]]=0}try{let e=numeric.ccsSparse(o);n=numeric.ccsLUPSolve(numeric.ccsLUP(e),t)}catch(e){console.log(e)}return n}function Y(e,l,n,t,o,r){return null==o[e][l]&&o[n][t]==r||o[e][l]==r&&null==o[n][t]||null==o[e][l]&&0==o[n][t]||0==o[e][l]&&null==o[n][t]?1:o[e][l]==r&&o[n][t]==r||0==o[e][l]&&o[n][t]==r||o[e][l]==r&&0==o[n][t]?2:null==o[e][l]&&null==o[n][t]?3:0}function Z(e){let l=[];for(let n=0;n<e.length;n++){l.push([]);for(let t=0;t<e.length;t++)l[n].push(0)}for(let n=1;n<=r.length;n++)for(let t=1;t<=r.length;t++)l[h[n][t]][h[n-1][t]]=e[h[n][t]]-e[h[n-1][t]],l[h[n][t]][h[n-1][t+1]]=e[h[n][t]]-e[h[n-1][t+1]],l[h[n][t]][h[n][t-1]]=e[h[n][t]]-e[h[n][t-1]],l[h[n][t]][h[n][t+1]]=e[h[n][t]]-e[h[n][t+1]],l[h[n][t]][h[n+1][t-1]]=e[h[n][t]]-e[h[n+1][t-1]],l[h[n][t]][h[n+1][t]]=e[h[n][t]]-e[h[n+1][t]];return l}function $(e,l,n,t){let o=0;return[1,3].indexOf(Y(e,l,e-1,l,d,n))>-1?o+=t[h[e][l]][h[e-1][l]]:[1,3].indexOf(Y(e,l,e-1,l+1,d,n))>-1?o+=t[h[e][l]][h[e-1][l+1]]:[1,3].indexOf(Y(e,l,e,l-1,d,n))>-1?o+=t[h[e][l]][h[e][l-1]]:[1,3].indexOf(Y(e,l,e,l+1,d,n))>-1?o+=t[h[e][l]][h[e][l+1]]:[1,3].indexOf(Y(e,l,e+1,l-1,d,n))>-1?o+=t[h[e][l]][h[e+1][l-1]]:[1,3].indexOf(Y(e,l,e+1,l,d,n))>-1&&(o+=t[h[e][l]][h[e+1][l]]),o}function _(e,l,n,t){let o=!1,r=t%2+1;return 0>=e-1||n.length<=e+1||0>=l-1||n.length<=l+1?o=!1:(!Y(e,l,e-1,l,n,t)&&Y(e,l,e-1,l,n,r)||!Y(e,l,e-1,l+1,n,t)&&Y(e,l,e-1,l+1,n,r)||!Y(e,l,e,l-1,n,t)&&Y(e,l,e,l-1,n,r)||!Y(e,l,e,l+1,n,t)&&Y(e,l,e,l+1,n,r)||!Y(e,l,e+1,l-1,n,t)&&Y(e,l,e+1,l-1,n,r)||!Y(e,l,e+1,l,n,t)&&Y(e,l,e+1,l,n,r))&&(o=!0),o}function ee(e,l,n,t){let o=!1,r=t%2+1;return 0>=e-2||n.length<=e+2||0>=l-2||n.length<=l+2?o=!1:(1==Y(e,l,e+1,l+1,n,r)&&1==Y(e,l,e+1,l,n,r)&&1==Y(e,l,e,l+1,n,r)||1==Y(e,l,e-1,l-1,n,r)&&1==Y(e,l,e-1,l,n,r)&&1==Y(e,l,e,l-1,n,r)||1==Y(e,l,e-1,l+2,n,r)&&1==Y(e,l,e,l+1,n,r)&&1==Y(e,l,e-1,l+1,n,r)||1==Y(e,l,e+1,l-2,n,r)&&1==Y(e,l,e,l-1,n,r)&&1==Y(e,l,e+1,l-1,n,r)||1==Y(e,l,e+2,l-1,n,r)&&1==Y(e,l,e+1,l,n,r)&&1==Y(e,l,e+1,l-1,n,r)||1==Y(e,l,e-2,l+1,n,r)&&1==Y(e,l,e-1,l,n,r)&&1==Y(e,l,e-1,l+1,n,r))&&(o=!0),o}function le(e,l,n,t){let o=[];return 0>=e-2||n.length<=e+2||0>=l-2||n.length<=l+2?o=[]:2==Y(e,l,e+1,l+1,n,t)&&1==Y(e,l,e+1,l,n,t)&&1==Y(e,l,e,l+1,n,t)?(o.push({row:e+1,column:l}),o.push({row:e,column:l+1})):2==Y(e,l,e-1,l-1,n,t)&&1==Y(e,l,e-1,l,n,t)&&1==Y(e,l,e,l-1,n,t)?(o.push({row:e-1,column:l}),o.push({row:e,column:l-1})):2==Y(e,l,e-1,l+2,n,t)&&1==Y(e,l,e,l+1,n,t)&&1==Y(e,l,e-1,l+1,n,t)?(o.push({row:e,column:l+1}),o.push({row:e-1,column:l+1})):2==Y(e,l,e+1,l-2,n,t)&&1==Y(e,l,e,l-1,n,t)&&1==Y(e,l,e+1,l-1,n,t)?(o.push({row:e,column:l-1}),o.push({row:e+1,column:l-1})):2==Y(e,l,e+2,l-1,n,t)&&1==Y(e,l,e+1,l,n,t)&&1==Y(e,l,e+1,l-1,n,t)?(o.push({row:e+1,column:l}),o.push({row:e+1,column:l-1})):2==Y(e,l,e-2,l+1,n,t)&&1==Y(e,l,e-1,l,n,t)&&1==Y(e,l,e-1,l+1,n,t)&&(o.push({row:e-1,column:l}),o.push({row:e-1,column:l+1})),o}function ne(e,l,n,t){let o=!1;return(ee(e,l,n,t)||_(e,l,n,t))&&(o=!0),o}function te(e,l,n,t){let o=e%2+1,r=[];if(!r.length)for(let e=0;e<l.length;e++)for(let u=0;u<l[e].length;u++)if(l[e][u]==o){let c=le(e,u,l,o);if(c.length)for(let e=0;e<c.length;e+=2)null==l[c[e].row][c[e].column]&&null==l[c[e+1].row][c[e+1].column]&&(r.push({playerFactor:n[c[e].row][c[e].column],opponentFactor:t[c[e].row][c[e].column],normPlayerFactor:null,normOpponentFactor:null,weight:null,row:c[e].row+1,column:c[e].column+1}),r.push({playerFactor:n[c[e+1].row][c[e+1].column],opponentFactor:t[c[e+1].row][c[e+1].column],normPlayerFactor:null,normOpponentFactor:null,weight:null,row:c[e+1].row+1,column:c[e+1].column+1}))}for(let o=0;o<l.length;o++)for(let u=0;u<l[o].length;u++)null==l[o][u]&&ne(o,u,l,e)&&r.push({playerFactor:n[o][u],opponentFactor:t[o][u],normPlayerFactor:null,normOpponentFactor:null,weight:null,row:o+1,column:u+1});return r}function oe(e){let l=e,n=0,t=0,o=0,r=0,u=0,c=0,s=0;for(let e=0;e<l.length;e++)null!=l[e].playerFactor&&(n++,t+=l[e].playerFactor,o=o<l[e].playerFactor?l[e].playerFactor:o),null!=l[e].opponentFactor&&(r++,u+=l[e].opponentFactor,c=c<l[e].opponentFactor?l[e].opponentFactor:c);for(let e=0;e<l.length;e++)null!=l[e].playerFactor&&null!=l[e].opponentFactor&&(l[e].normPlayerFactor=l[e].playerFactor*n/t,l[e].normOpponentFactor=l[e].opponentFactor*r/u,l[e].weight=l[e].normPlayerFactor/l[e].normOpponentFactor,s+=l[e].weight),null==l[e].playerFactor&&(l[e].playerFactor=o),null==l[e].opponentFactor&&(l[e].opponentFactor=c),null==l[e].weight&&(l[e].weight=0);return l.sort((function(e,l){return e.weight-l.weight})),l}function re(e,l,n,t){let o=e%2+1,u=[],c=[],s=[],m=[],i=[],a=[],g=[];for(let i=1;i<=r.length;i++){c.push([]),s.push([]),u.push([]);for(let d=1;d<=r.length;d++)c[i-1].push(null),s[i-1].push(null),u[i-1].push(null),null==l[i][d]?(a.push($(i,d,e,n)),g.push($(i,d,o,t)),a[a.length-1]*=a[a.length-1],a[a.length-1]/=6,a[a.length-1]=Math.sqrt(a[a.length-1]),g[g.length-1]*=g[g.length-1],g[g.length-1]/=6,g[g.length-1]=Math.sqrt(g[g.length-1]),c[i-1][d-1]=a[a.length-1]?g[g.length-1]/a[a.length-1]:null,s[i-1][d-1]=g[g.length-1]?a[a.length-1]/g[g.length-1]:null,m.push({playerFactor:c[i-1][d-1],opponentFactor:s[i-1][d-1],normPlayerFactor:null,normOpponentFactor:null,weight:null,row:i,column:d})):u[i-1][d-1]=l[i][d]}return i=oe(m),i}function ue(e,l,n,t){let o=e%2+1,u=[],c=[],s=[],m=[],i=[];for(let a=1;a<=r.length;a++){c.push([]),s.push([]),u.push([]);for(let g=1;g<=r.length;g++)c[a-1].push(null),s[a-1].push(null),u[a-1].push(null),null==l[a][g]?(m.push($(a,g,e,n)),i.push($(a,g,o,t)),m[m.length-1]*=m[m.length-1],m[m.length-1]/=6,m[m.length-1]=Math.sqrt(m[m.length-1]),i[i.length-1]*=i[i.length-1],i[i.length-1]/=6,i[i.length-1]=Math.sqrt(i[i.length-1]),c[a-1][g-1]=m[m.length-1]?i[i.length-1]/m[m.length-1]:null,s[a-1][g-1]=i[i.length-1]?m[m.length-1]/i[i.length-1]:null):u[a-1][g-1]=l[a][g]}return defensiveMoves=oe(te(e,u,c,s)),defensiveMoves}minifiedDict.makeCardMove=v,minifiedDict.makeCellMove=B,minifiedDict.sendPlayerMove=M,minifiedDict.startGame=N,minifiedDict.player=l;
